{% extends 'AppBundle::layout.html.twig' %}
{% import "AppBundle::macros.html.twig" as macros %}

{% block body %}

<div class="main container">
<h1 class="site-title hidden-xs">SWDestinyDB</h1>
<div class="site-slogan">{{ 'slogan' | trans }}</div>
</div> <!-- .container -->

<div class="main container">
    <div class="row">
      <div class="jumbotron">
        <h3 class="text-warning"><span class="fa fa-exclamation-triangle"></span>Web site in BETA status!!</h3>
        <p>Until more info is revealed, this website is subject to change, and the DB and user info, decks and decklists deleted. Please, consider using this site only for testing purposes. Any feedback is welcomed.</p>
      </div>
    {#% for data in decklists_by_affiliation %}
    <div class="col-md-6" style="margin-bottom:30px">
        <div class="bg-affiliation bg-{{ data.affiliation.code }}" style="padding:10px 10px 5px 10px">
            <div class="media">
              <div class="media-left" style="font-size:30px">
                  <span class="icon icon-{{ data.affiliation.code }}"></span>
              </div>
              <div class="media-body">
                  <h4 class="media-heading" style="white-space:nowrap"><a href="{{ path('decklist_detail',{decklist_id:data.decklist.id,decklist_name:data.decklist.nameCanonical}) }}">{{ data.decklist.name }}</a></h4>
                  <div class="small">
                    {% set username %}
                      <span class="username">{{ macros.username_colorless(data.decklist.user) }}</span>
                    {% endset %}
                    {{ 'userby' | trans({'%user%': username}) | raw }}
                    &middot;
                    <time datetime="{{ data.decklist.dateCreation|date('c') }}">{{ data.decklist.dateCreation|date('M d, Y') }}</time>
                  </div>
              </div>
            </div>
        </div>
        <div style="background-color: white; padding: 10px 20px 20px 20px">
            <div class="small pull-right">
                {{ macros.decklist_social_icons(data.decklist ) }}
            </div>
            <div>{{ data.affiliations }}</div>
            <p>{{ data.count_by_type|raw }}</p>
            <div class="text-center small"><a href="{{ path('decklists_list',{type:'find',affiliation:data.affiliation.code}) }}">{{ 'seemore.affiliation' | trans }}</a></div>
            <div style="clear:both"></div>
        </div>
    </div>
    {% endfor %#}
    </div>
    <div class="row">
    	<div class="col-md-12">
    		{% include "AppBundle:Default:google-adaptable-ad.html.twig" %}
    	</div>
    </div>
</div>

{% endblock %}


{% block javascripts %}
<script type="application/ld+json">
{
   "@context": "http://schema.org",
   "@type": "WebSite",
   "url": "https://thronesdb.com/",
   "potentialAction": {
     "@type": "SearchAction",
     "target": "http://thronesdb.com/find/?q={search_term_string}",
     "query-input": "required name=search_term_string"
   }
}
</script>
{% endblock %}
